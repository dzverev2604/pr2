(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[371],{44786:function(t,e,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/robots/my_robots",function(){return s(82475)}])},85166:function(t,e,s){"use strict";s.d(e,{Z:function(){return d}});var o=s(35666),a=s.n(o),r=s(85893),l=s(67294),n=s(74478),c=s(54827),i=s(72260),u=s(61584),x=s(82848);function b(t,e,s,o,a,r,l){try{var n=t[r](l),c=n.value}catch(i){return void s(i)}n.done?e(c):Promise.resolve(c).then(o,a)}function d(t){var e,s=t.setModal,o=t.modal,d=t.modalData,m=t.type,p=t.setTxId,g=t.setListingModal,h=(0,l.useState)(""),f=h[0],N=h[1],j=(0,l.useState)("list"),v=j[0],k=j[1];return(0,l.useEffect)((function(){d.listing?(N(Number.parseFloat(d.listing.list_price/1e6).toFixed(3)),k("relist")):d.list_price?(N(Number.parseFloat(d.list_price/1e6).toFixed(3)),k("relist")):(N(""),k("list"))}),[o]),(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:"fixed top-0 bottom-0 left-0 right-0 bg-robots-stellar-explorer bg-opacity-75 font-brokenconsole-reg text-robots-baroque-chalk z-40 ".concat(1==o?"":"hidden"),onClick:function(){},children:(0,r.jsx)("div",{className:"container mx-auto",children:(0,r.jsxs)("div",{className:"mx-auto w-5/12 mt-28 bg-robots-stellar-explorer opacity-100 relative",onClick:function(t){t.stopPropagation()},children:[(0,r.jsx)("img",{src:"/images/robots/close.svg",className:"absolute cursor-pointer right-5 z-30 top-5",onClick:function(){N(""),s(!1)}}),(0,r.jsx)(n.Z,{className:"top-0 left-0 bg-robots-stellar-explorer z-10"}),(0,r.jsx)(n.Z,{className:"top-0 right-0 bg-robots-stellar-explorer z-10"}),(0,r.jsx)(n.Z,{className:"bottom-0 left-0 bg-robots-stellar-explorer z-10"}),(0,r.jsx)(n.Z,{className:"bottom-0 right-0 bg-robots-stellar-explorer z-10"}),(0,r.jsxs)("div",{className:"border-2 p-10 pt-0 relative border-robots-baroque-chalk",children:[(0,r.jsx)(c.Z,{className:"top-0 left-0 bg-robots-baroque-chalk"}),(0,r.jsx)(c.Z,{className:"top-0 right-0 bg-robots-baroque-chalk"}),(0,r.jsx)(c.Z,{className:"bottom-0 left-0 bg-robots-baroque-chalk"}),(0,r.jsx)(c.Z,{className:"bottom-0 right-0 bg-robots-baroque-chalk"}),(0,r.jsxs)("h1",{className:"text-3xl text-center pt-[60px]",children:[v," YOUR ",m.slice(0,-1)]}),(0,r.jsxs)("p",{className:"text-center mt-12 text-robots-text-light text-sm ",children:["Enter the amount of STX you want to ",v," your"," ",m.slice(0,-1)," for:"]}),(0,r.jsxs)("div",{className:"relative mt-4",children:[(0,r.jsx)("span",{className:"absolute right-5 top-4 text-robots-ghostlands-coal",children:"STX"}),(0,r.jsx)(n.Z,{className:"top-0 left-0 bg-robots-stellar-explorer z-10"}),(0,r.jsx)(n.Z,{className:"top-0 right-0 bg-robots-stellar-explorer z-10"}),(0,r.jsx)(n.Z,{className:"bottom-0 left-0 bg-robots-stellar-explorer z-10"}),(0,r.jsx)(n.Z,{className:"bottom-0 right-0 bg-robots-stellar-explorer z-10"}),(0,r.jsx)("input",{type:"text",className:"w-full p-3 pt-4 text-robots-ghostlands-coal",placeholder:"E.G. 1000",value:f,onChange:function(t){return N(t.target.value.replace(/[^0-9.]/g,""))}}),(0,r.jsxs)("p",{className:"pt-5 font-ibm-plex-mono text-sm",children:["You get"," ",parseFloat(Number(f),2).toFixed(2)," ","STX. Buyer will pay"," ",parseFloat(Number(f)+.05*Number(f)).toFixed(2)," ","STX."]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-5 pt-[60px]",children:[(0,r.jsx)(i.Z,{text:"CANCEL",onClick:function(){N(""),s(!1)}}),(0,r.jsx)(u.Z,{disabled:!(f.length>0),text:"".concat(v," ").concat(m.slice(0,-1)),onClick:(e=a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,x.qb)(m,d.id?d.id:d.token_id,f,(function(t){p(t.txId),s(!1),N(""),g(!0)}));case 2:case"end":return t.stop()}}),t)})),function(){var t=this,s=arguments;return new Promise((function(o,a){var r=e.apply(t,s);function l(t){b(r,o,a,l,n,"next",t)}function n(t){b(r,o,a,l,n,"throw",t)}l(void 0)}))})})]})]})]})})})})}},82475:function(t,e,s){"use strict";s.r(e),s.d(e,{default:function(){return h}});var o=s(85893),a=s(11163),r=s(67294),l=s(27569),n=s(52274),c=s(9986),i=s(54827),u=s(84567),x=s(85166),b=s(92465),d=s(42346),m=(s(72260),s(2923)),p=s(82848),g=s(15021);function h(){var t,e=(0,a.useRouter)(),s=(0,l.b)(),h=s.walletItems,f=s.setWalletItems,N=(0,r.useState)(!1),j=N[0],v=N[1],k=(0,r.useState)(!1),Z=k[0],y=k[1],_=(0,r.useState)([]),w=_[0],S=_[1],C=(0,r.useState)(!1),T=C[0],F=C[1],E=(0,r.useState)(!1),I=E[0],z=E[1],q=(0,r.useState)(""),M=q[0],O=q[1],P=(0,r.useState)(!1),R=P[0],L=P[1],X=(0,r.useState)(!1),Y=X[0],D=X[1],U=(0,r.useState)(""),A=U[0],B=U[1],G=function(t){f(t),F(t.robots),z(!0),t.robots&&t.robots.length>0?(0,p.Tn)({ids:t.robots,type:"robots",callback:function(t){S(t)}}):S([])};return(0,r.useEffect)((function(){(0,m.Kx)({callback:function(t){O(t)}})}),[]),(0,r.useEffect)((function(){M&&0!==M.length&&(h?G(h):(0,g.RD)({type:"all",wallet:(0,g.Tu)(M),callback:function(t){G(t)}}))}),[M]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.Z,{selectedPage:"robots",userSession:m.es,currentUser:M,signOut:function(){(0,m.w7)({callback:function(){O(""),S([])}})},authenticate:function(){(0,m.YR)({callback:function(t){O(t)}})}}),(0,o.jsx)("div",{className:"bg-robots-stellar-explorer mt-[2px] ml-5 mr-5 relative font-brokenconsole-reg text-robots-baroque-chalk font-normal p-8 pt-0 pb-7",children:(0,o.jsxs)("div",{className:"container mx-auto",children:[(0,o.jsx)(i.Z,{className:"top-0 left-0 bg-robots-ghostlands-coal"}),(0,o.jsx)(i.Z,{className:"top-0 right-0 bg-robots-ghostlands-coal"}),(0,o.jsx)(i.Z,{className:"bottom-0 left-0 bg-robots-ghostlands-coal"}),(0,o.jsx)(i.Z,{className:"bottom-0 right-0 bg-robots-ghostlands-coal"}),(0,o.jsx)("h1",{className:"text-4xl text-center pt-24 pb-16",children:"MY ROBOTS"}),!I&&M&&0===w.length&&h&&(0,o.jsx)(o.Fragment,{children:(0,o.jsx)("p",{className:"text-center mt-10 text-lg",children:"Loading Robots..."})}),h&&0===w.length&&(0,o.jsx)(o.Fragment,{children:(0,o.jsx)("p",{className:"text-center mt-10 text-lg",children:"Loading Robots..."})}),M&&I&&0===w.length&&0===h.robots.length&&(0,o.jsx)(o.Fragment,{children:(0,o.jsx)("p",{className:"text-center mt-10 text-lg",children:"You have no robots..."})}),!M&&(0,o.jsx)("p",{className:"text-center mt-10 text-lg",children:"Please connect your wallet."}),(0,o.jsx)("div",{className:"grid grid-cols-4 gap-5 mb-32",children:null===w||void 0===w||null===(t=w.docs)||void 0===t?void 0:t.map((function(t,s){return(0,o.jsx)(u.Z,{image:t.image,name:t.name,data:t,checkListing:"true",onClick:function(){L(t),v(!0)},relistClick:function(e){L(t),v(!0)},onClickSecondary:function(){(0,p._M)("robots",t.token_id,(function(t){B(t.txId),y(!0)}))},type:"robots",onClickUpgrade:function(){e.push({pathname:"/robots/build",query:{id:t.token_id}})}},s)}))})]})}),(0,o.jsx)(b.Z,{currentUser:M,robotsOwned:T,setModal:y,setTxId:B,modal:Z,txId:A}),(0,o.jsx)(c.Z,{}),(0,o.jsx)(x.Z,{setModal:v,setListingModal:y,setTxId:B,modal:j,modalData:R,type:"robots"}),(0,o.jsx)(d.Z,{setModal:y,modal:Z,txId:A,title:"TRANSACTION PENDING",description:"Your transaction is in progress, you can easily check the status in the explorer.",type:"components"}),(0,o.jsx)(d.Z,{setModal:D,modal:Y,txId:A,type:"components"})]})}},11163:function(t,e,s){t.exports=s(90387)}},function(t){t.O(0,[261,898,868,245,745,626,807,774,888,179],(function(){return e=44786,t(t.s=e);var e}));var e=t.O();_N_E=e}]);