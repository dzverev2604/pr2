(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[245],{73993:function(t,n,e){var o={"./connect-modal.entry.js":[82506,43]};function c(t){if(!e.o(o,t))return Promise.resolve().then((function(){var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}));var n=o[t],c=n[0];return e.e(n[1]).then((function(){return e(c)}))}c.keys=function(){return Object.keys(o)},c.id=73993,t.exports=c},15021:function(t,n,e){"use strict";e.d(n,{a1:function(){return v},S7:function(){return b},Tu:function(){return m},vd:function(){return k},RD:function(){return l},th:function(){return g},vc:function(){return p}});var o=e(35666),c=e.n(o),r=e(28868),a=e(42549),s=e(33276);function i(t,n,e,o,c,r,a){try{var s=t[r](a),i=s.value}catch(u){return void e(u)}s.done?n(i):Promise.resolve(i).then(o,c)}function u(t){return function(){var n=this,e=arguments;return new Promise((function(o,c){var r=t.apply(n,e);function a(t){i(r,o,c,a,s,"next",t)}function s(t){i(r,o,c,a,s,"throw",t)}a(void 0)}))}}var p={firstV2ComponentId:59326,firstV2RobotId:1866,network:"mainnet",searchApiDomain:"https://byzantion-universal-api.herokuapp.com",stacksNodeUrl:"https://stacks-node-api.mainnet.stacks.co",getNetwork:function(){return"mainnet"==p.network?new a._Y:new a.an},contracts:{contractAddress:function(t){var n="";switch(p.network){case"mainnet":n="SP3D6PV2ACBPEKYJTCMH7HEN02KP87QSP8KTEH335";break;case"testnet":n="ST4XZNXWWQ3C57EF7HY4A0QC5TGQH391C9S24RNZ";break;default:n="SP3D6PV2ACBPEKYJTCMH7HEN02KP87QSP8KTEH335"}return n},mint:{contractName:"megapont-robot-expansion-mint"},factory:{contractName:"megapont-gigafactory"},apes:{identifier:"megapont-ape-club-nft::Megapont-Ape-Club",contractName:"megapont-ape-club-mint",tokenName:"Megapont-Ape-Club",tokenContractName:"megapont-ape-club-nft",commissionTrait:"commission-megapont"},robots:{identifier:"megapont-robot-nft::Megapont-Robot",contractName:"megapont-robot-nft",tokenName:"Megapont-Robot",tokenContractName:"megapont-robot-nft",commissionTrait:"commission-robot-factory"},components:{identifier:"megapont-robot-component-nft::Megapont-Robot-Component",contractName:"megapont-robot-mint",tokenName:"Megapont-Robot-Component",tokenContractName:"megapont-robot-component-nft",commissionTrait:"commission-robot-factory"},robotsclone:{identifier:"megapont-robot-expansion-nft::Megapont-Robot",contractName:"megapont-robot-expansion-nft",tokenName:"Megapont-Robot",tokenContractName:"megapont-robot-expansion-nft",commissionTrait:"commission-robot-factory"},componentsclone:{identifier:"megapont-robot-component-expansion-nft::Megapont-Robot-Component",contractName:"megapont-robot-component-expansion-nft",tokenName:"Megapont-Robot-Component",tokenContractName:"megapont-robot-component-expansion-nft",commissionTrait:"commission-robot-factory"}}},m=function(t){if(t&&0!==t.length)return t.profile.stxAddress[p.network]},d=function(t){return"".concat(p.contracts.contractAddress(t),".").concat(p.contracts[t].identifier)},f=u(c().mark((function t(n){var e,o=n.callback,a=n.wallet;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,r.fetchPaginate)("".concat(p.stacksNodeUrl,"/extended/v1/address/").concat(a,"/nft_events"),{params:{offset:!0},getItems:function(t){return t.nft_events},limit:50});case 2:e=t.sent.items,o(e);case 4:case"end":return t.stop()}}),t)}))),l=(u(c().mark((function t(n){var e=n.wallet,o=n.callback;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==e.length){t.next=2;break}return t.abrupt("return");case 2:f({wallet:e,callback:function(t){for(var n=t.filter((function(t){return t.asset_identifier===d("apes")})),e=[],c=0;c<n.length;c++){var r=n[c].value.repr.replace("u","");-1===e.indexOf(r)&&e.push(r)}o(e)}});case 3:case"end":return t.stop()}}),t)}))),u(c().mark((function t(n){var e=n.type,o=n.wallet,r=n.callback;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==o.length){t.next=2;break}return t.abrupt("return");case 2:f({wallet:o,callback:function(t){for(var n=["apes","robots","components","robotsclone","componentsclone"],o={},c=0;c<n.length;c++){for(var a=t.filter((function(t){return t.asset_identifier===d(n[c])})),s=[],i=0;i<a.length;i++){var u=a[i].value.repr.replace("u","");-1===s.indexOf(u)&&s.push(u)}o[n[c]]=s}o.robots=o.robots.concat(o.robotsclone),o.components=o.components.concat(o.componentsclone),r(e&&"all"!=e?o[e]:o)}});case 3:case"end":return t.stop()}}),t)})))),b=u(c().mark((function t(n){var e=n.apeId,o=n.callback;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",fetch("https://megapont-api.herokuapp.com/api/megapont?sort=1&query=rank&skip=0&limit=1&id=".concat(e),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({})}).then((function(t){return t.json()})).then((function(t){o(t)})).catch((function(t){console.log("Request failed",t)})));case 1:case"end":return t.stop()}}),t)}))),v=u(c().mark((function t(n){var e=n.type,o=n.ids,r=n.callback;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!=o.length){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,fetch("https://api.megapont.com/".concat(e),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(o)}).then((function(t){return t.json()})).then((function(t){r(t)})).catch((function(t){console.log("Request failed",t)}));case 4:case"end":return t.stop()}}),t)}))),k=function(t){var n=t.robotId,e=t.txnId;fetch("https://api.megapont.com/webhook",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({event:"upgrade",payload:{id:n,txnid:e}})})},g=u(c().mark((function t(n){var e,o,r=n.robotId,a=n.currentUser,i=n.callback;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,s.zT)({robotId:r,user:a});case 2:e=t.sent,o=[],0!=e.background.value&&o.push(e.background.value),0!=e.body.value&&o.push(e.body.value),0!=e.ears.value&&o.push(e.ears.value),0!=e.eyes.value&&o.push(e.eyes.value),0!=e.head.value&&o.push(e.head.value),0!=e.jewellery.value&&o.push(e.jewellery.value),0!=e.mouth.value&&o.push(e.mouth.value),0==o.length?i([]):v({type:"components",ids:o,callback:function(t){i(t)}});case 12:case"end":return t.stop()}}),t)})))},33276:function(t,n,e){"use strict";e.d(n,{qu:function(){return d},pF:function(){return b},jt:function(){return f},a7:function(){return v},zT:function(){return l}});var o=e(35666),c=e.n(o),r=e(13977),a=e(74068),s=e(18422),i=e(15021);function u(t,n,e,o,c,r,a){try{var s=t[r](a),i=s.value}catch(u){return void e(u)}s.done?n(i):Promise.resolve(i).then(o,c)}function p(t){return function(){var n=this,e=arguments;return new Promise((function(o,c){var r=t.apply(n,e);function a(t){u(r,o,c,a,s,"next",t)}function s(t){u(r,o,c,a,s,"throw",t)}a(void 0)}))}}var m=e(13550),d=p(c().mark((function t(n){var e,o,s,u,p=n.user,d=n.quantity,f=n.callback;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(p){t.next=2;break}return t.abrupt("return");case 2:d||(d=1),e=(0,i.Tu)(p),o="claim",t.t0=d.toString(),t.next="1"===t.t0?8:"2"===t.t0?10:"3"===t.t0?12:"4"===t.t0?14:"5"===t.t0?16:"6"===t.t0?18:"7"===t.t0?20:"8"===t.t0?22:"9"===t.t0?24:"10"===t.t0?26:28;break;case 8:return o="claim",t.abrupt("break",30);case 10:return o="claim-two",t.abrupt("break",30);case 12:return o="claim-three",t.abrupt("break",30);case 14:return o="claim-four",t.abrupt("break",30);case 16:return o="claim-five",t.abrupt("break",30);case 18:return o="claim-six",t.abrupt("break",30);case 20:return o="claim-seven",t.abrupt("break",30);case 22:return o="claim-eight",t.abrupt("break",30);case 24:return o="claim-nine",t.abrupt("break",30);case 26:return o="claim-ten",t.abrupt("break",30);case 28:return o="claim",t.abrupt("break",30);case 30:return s=[(0,a.makeStandardSTXPostCondition)(e,a.FungibleConditionCode.LessEqual,new m(2e7*d))],u={contractAddress:i.vc.contracts.contractAddress(),contractName:i.vc.contracts.components.contractName,functionName:o,functionArgs:[],network:i.vc.getNetwork(),postConditions:s,appDetails:{name:"Megapont",icon:"https://www.megapont.com/images/logo.svg"},onFinish:function(t){f(t)}},t.next=34,(0,r.UQ)(u);case 34:case"end":return t.stop()}}),t)}))),f=p(c().mark((function t(n){var e,o,r,s=n.user,u=n.apeId;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=(0,i.Tu)(s),o={network:i.vc.getNetwork(),contractAddress:i.vc.contracts.contractAddress(),contractName:i.vc.contracts.mint.contractName,functionName:"ape-has-claimed",functionArgs:[(0,a.uintCV)(u)],senderAddress:e},t.next=4,(0,a.callReadOnlyFunction)(o);case 4:return r=t.sent,t.abrupt("return",(0,a.cvToString)(r).toString());case 6:case"end":return t.stop()}}),t)}))),l=p(c().mark((function t(n){var e,o,r,u=n.robotId,p=n.user;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=(0,i.Tu)(p),o={network:i.vc.getNetwork(),contractAddress:i.vc.contracts.contractAddress(),contractName:i.vc.contracts.factory.contractName,functionName:"get-sequence",functionArgs:[(0,a.uintCV)(u)],senderAddress:e},t.next=4,(0,a.callReadOnlyFunction)(o);case 4:return r=t.sent,t.abrupt("return",(0,s.YN)(r).value);case 6:case"end":return t.stop()}}),t)}))),b=(p(c().mark((function t(n){var e,o,r,s=n.robotId,u=n.user;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=(0,i.Tu)(u),o={network:i.vc.getNetwork(),contractAddress:i.vc.contracts.contractAddress(),contractName:i.vc.contracts.robots.contractName,functionName:"get-name",functionArgs:[(0,a.uintCV)(s)],senderAddress:e},t.next=4,(0,a.callReadOnlyFunction)(o);case 4:return r=t.sent,t.abrupt("return",r.data.toString());case 6:case"end":return t.stop()}}),t)}))),p(c().mark((function t(n){var e,o,s=n.user,u=n.apeId,p=n.callback;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s&&u&&p){t.next=2;break}return t.abrupt("return");case 2:return e=(0,i.Tu)(s),"claim-freebie",[(0,a.makeStandardNonFungiblePostCondition)(e,a.NonFungibleConditionCode.Owns,(0,a.createAssetInfo)(i.vc.contracts.contractAddress(),i.vc.contracts.robotsclone.tokenContractName,i.vc.contracts.robotsclone.tokenName),(0,a.uintCV)(i.vc.contracts.robotsclone.tokenName)),(0,a.makeStandardNonFungiblePostCondition)(e,a.NonFungibleConditionCode.Owns,(0,a.createAssetInfo)(i.vc.contracts.contractAddress(),i.vc.contracts.componentsclone.contractName,i.vc.contracts.componentsclone.tokenName),(0,a.uintCV)(i.vc.contracts.componentsclone.tokenName)),(0,a.makeStandardNonFungiblePostCondition)(e,a.NonFungibleConditionCode.Owns,(0,a.createAssetInfo)(i.vc.contracts.contractAddress(),i.vc.contracts.componentsclone.contractName,i.vc.contracts.componentsclone.tokenName),(0,a.uintCV)(i.vc.contracts.componentsclone.tokenName)),(0,a.makeStandardNonFungiblePostCondition)(e,a.NonFungibleConditionCode.Owns,(0,a.createAssetInfo)(i.vc.contracts.contractAddress(),i.vc.contracts.componentsclone.contractName,i.vc.contracts.componentsclone.tokenName),(0,a.uintCV)(i.vc.contracts.componentsclone.tokenName)),(0,a.makeStandardNonFungiblePostCondition)(e,a.NonFungibleConditionCode.Owns,(0,a.createAssetInfo)(i.vc.contracts.contractAddress(),i.vc.contracts.componentsclone.contractName,i.vc.contracts.componentsclone.tokenName),(0,a.uintCV)(i.vc.contracts.componentsclone.tokenName)),(0,a.makeStandardNonFungiblePostCondition)(e,a.NonFungibleConditionCode.Owns,(0,a.createAssetInfo)(i.vc.contracts.contractAddress(),i.vc.contracts.componentsclone.contractName,i.vc.contracts.componentsclone.tokenName),(0,a.uintCV)(i.vc.contracts.componentsclone.tokenName))],o={contractAddress:i.vc.contracts.contractAddress(),contractName:i.vc.contracts.mint.contractName,functionName:"claim-freebie",functionArgs:[(0,a.uintCV)(u)],network:i.vc.getNetwork(),postConditions:[],appDetails:{name:"Megapont",icon:"https://www.megapont.com/images/logo.svg"},onFinish:function(t){p(t)}},t.next=8,(0,r.UQ)(o);case 8:case"end":return t.stop()}}),t)})))),v=p(c().mark((function t(n){var e,o,s,u,p,m,d,f=n.burnIds,l=n.user,b=n.itemId,v=n.mouthId,k=n.jewelleryId,g=n.headId,N=n.eyesId,h=n.earsId,w=n.bodyId,C=n.backgroundId,A=n.name,x=n.callback;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(l&&b&&x){t.next=2;break}return t.abrupt("return");case 2:if(e=(0,i.Tu)(l),"upgrade",o="robots",b>=i.vc.firstV2RobotId&&(o="robotsclone"),s=[(0,a.makeStandardNonFungiblePostCondition)(e,a.NonFungibleConditionCode.Owns,(0,a.createAssetInfo)(i.vc.contracts.contractAddress(),i.vc.contracts[o].tokenContractName,i.vc.contracts[o].tokenName),(0,a.uintCV)(b))],f&&f.length>0)for(u=0;u<f.length;u++)p=f[u],m="components",p>=i.vc.firstV2ComponentId&&(m="componentsclone"),s.push((0,a.makeStandardNonFungiblePostCondition)(e,a.NonFungibleConditionCode.DoesNotOwn,(0,a.createAssetInfo)(i.vc.contracts.contractAddress(),i.vc.contracts[m].tokenContractName,i.vc.contracts[m].tokenName),(0,a.uintCV)(Number(p))));return d={contractAddress:i.vc.contracts.contractAddress(),contractName:i.vc.contracts.factory.contractName,functionName:"upgrade",functionArgs:[(0,a.uintCV)(b),(0,a.uintCV)(v),(0,a.uintCV)(k),(0,a.uintCV)(g),(0,a.uintCV)(N),(0,a.uintCV)(h),(0,a.uintCV)(w),(0,a.uintCV)(C),(0,a.stringAsciiCV)(A)],network:i.vc.getNetwork(),postConditions:s,appDetails:{name:"Megapont",icon:"https://www.megapont.com/images/logo.svg"},onFinish:function(t){x(t)}},t.next=11,(0,r.UQ)(d);case 11:case"end":return t.stop()}}),t)})))},89687:function(){},54243:function(){},80950:function(){},46601:function(){},89214:function(){},8623:function(){},64729:function(){},7748:function(){},85568:function(){},18971:function(){},56619:function(){},77108:function(){},52361:function(){},94616:function(){},33370:function(){}}]);